import streamlit as st
import random
from datetime import datetime

st.title("ğŸ”® ä»Šæ—¥ã®é‹å‹¢å ã„ã‚¢ãƒ—ãƒª")

# ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã®å…¥åŠ›
name = st.text_input("ã‚ãªãŸã®åå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„")
birthdate = st.date_input("ã‚ãªãŸã®èª•ç”Ÿæ—¥ã‚’é¸ã‚“ã§ãã ã•ã„")

# å ã„çµæœã®å€™è£œ
fortunes = [
    "å¤§å‰ ğŸŒŸï¼šä»Šæ—¥ã¯ç´ æ™´ã‚‰ã—ã„ä¸€æ—¥ã«ãªã‚Šã¾ã™ï¼",
    "ä¸­å‰ ğŸ˜Šï¼šã¾ã‚ã¾ã‚ã„ã„æ—¥ã«ãªã‚Šãã†ã§ã™ã€‚",
    "å°å‰ ğŸ™‚ï¼šå°ã•ãªãƒ©ãƒƒã‚­ãƒ¼ãŒã‚ã‚‹ã‹ã‚‚ã€‚",
    "å‰ ğŸ˜Œï¼šæ™®é€šã®æ—¥ã€‚ã§ã‚‚ä½•ã‹ã«æ„Ÿè¬ã§ããã†ã€‚",
    "å‡¶ ğŸ˜¥ï¼šã¡ã‚‡ã£ã¨æ³¨æ„ãŒå¿…è¦ãªæ—¥ã§ã™ã€‚æ…é‡ã«è¡Œå‹•ã—ã¾ã—ã‚‡ã†ã€‚",
    "å¤§å‡¶ ğŸ’€ï¼šä»Šæ—¥ã¯ç„¡ç†ã‚’ã›ãšã€é™ã‹ã«éã”ã™ã®ãŒå‰ã€‚"
]

# å ã†ãƒœã‚¿ãƒ³
if st.button("å ã†ï¼"):
    if name:
        seed = int(datetime.now().strftime("%Y%m%d")) + sum(ord(c) for c in name)
        random.seed(seed)
        result = random.choice(fortunes)
        st.subheader(f"{name}ã•ã‚“ã®ä»Šæ—¥ã®é‹å‹¢ã¯â€¦")
        st.success(result)
    else:
        st.warning("åå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼")
